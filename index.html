<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู </title>
    <meta name="description" content="ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู - ูุนุจุฉ ุชุนููููุฉ ููุชุนุฉ ูุชุนูู ุงูุญุฑูู ูุงูุซูุงูุฉ ุงูุนุงูุฉ ">
    <meta name="keywords" content="ูุนุจุฉ ุชุนููููุฉุ ุญุฑูู ุนุฑุจูุฉุ ุญุฑูู ุฅูุฌููุฒูุฉุ ุฃูุนุงุจ ูุบููุฉุ ุชุนููู ุงูุฃุทูุงูุ ุฎููุฉ ุงูุญุฑูู">
    <meta name="author" content="ุนุจุฏุงููุทูู ุฎุงูุฏ">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู ุงูุฑุฆูุณูุฉ -->
        <div class="main-controls">
            <!-- ุฒุฑ ุชุจุฏูู ุงููุบุฉ ูุงููุถุน ุงููููู -->
            <div class="controls-group">
                <button id="langToggle" class="control-btn">
                    <i class="fas fa-language"></i>
                    <span class="btn-text">English</span>
                </button>
                
                <button id="themeToggle" class="control-btn">
                    <i class="fas fa-moon"></i>
                    <span class="btn-text">ุงููุถุน ุงููููู</span>
                </button>
            
                <!-- ุฃุฒุฑุงุฑ ุงูุชูุจูุฑ ูุงูุชุตุบูุฑ -->
                <button id="zoomInBtn" class="control-btn icon-only">
                    <i class="fas fa-search-plus"></i>
                </button>
                <button id="zoomOutBtn" class="control-btn icon-only">
                    <i class="fas fa-search-minus"></i>
                </button>
                
                <!-- ุฒุฑ ุงููุณุงุนุฏุฉ -->
                <button id="helpBtn" class="control-btn icon-only">
                    <i class="fas fa-question-circle"></i>
                </button>
            </div>
        </div>

        <!-- ุนููุงู ุงููุนุจุฉ -->
        <div class="header">
            <h1 class="game-title" id="game-title"><i class="fas fa-chess-board"></i> <span>ูุนุจุฉ</span> ุฎููุฉ ุงูุญุฑูู</h1>
        </div>

        <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู ุจุงูููู -->
        <div class="controls-container">
            <div class="controls">
                <button class="color-btn green-btn" id="greenBtn"><i class="fas fa-paint-brush"></i> ุงูุฃุฎุถุฑ</button>
                <button class="color-btn red-btn" id="redBtn"><i class="fas fa-paint-brush"></i> ุงูุฃุญูุฑ</button>
                <button class="color-btn cream-btn" id="creamBtn"><i class="fas fa-paint-brush"></i> ุงูุฃุตูู</button>
                <button class="color-btn reset-btn" id="resetBtn"><i class="fas fa-eraser"></i> ูุณุญ ุงููู</button>
                <button class="color-btn random-btn" id="randomBtn"><i class="fas fa-random"></i> ุญุฑู ุนุดูุงุฆู</button>
                <button class="color-btn shuffle-btn" id="shuffleBtn"><i class="fas fa-sync-alt"></i> ุชุจุฏูู ุงูุญุฑูู</button>
            </div>
        </div>

        <div class="status-text" id="statusText">
            ุงุฎุชุฑ ูููุงู ุซู ุงููุฑ ุนูู ุงูุฎูุงูุง ูุชุบููุฑ ููููุง
        </div>

        <div class="honeycomb-container">
            <div class="honeycomb">
                <!-- ุงูุตู ุงูุฃูู - ุฃุญูุฑ -->
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>

                <!-- ุงูุตู ุงูุซุงูู - ุญุฑูู ูุน ุฎูุงูุง ุฎุถุฑุงุก ุนูู ุงูุฌุงูุจูู -->
                <div class="hex green"></div>
                <div class="hex cream letter">ุฃ</div>
                <div class="hex cream letter">ุจ</div>
                <div class="hex cream letter">ุช</div>
                <div class="hex cream letter">ุซ</div>
                <div class="hex cream letter">ุฌ</div>
                <div class="hex green"></div>

                <!-- ุงูุตู ุงูุซุงูุซ - ุญุฑูู ูุน ุฎูุงูุง ุฎุถุฑุงุก ุนูู ุงูุฌุงูุจูู -->
                <div class="hex green"></div>
                <div class="hex cream letter">ุญ</div>
                <div class="hex cream letter">ุฎ</div>
                <div class="hex cream letter">ุฏ</div>
                <div class="hex cream letter">ุฐ</div>
                <div class="hex cream letter">ุฑ</div>
                <div class="hex green"></div>

                <!-- ุงูุตู ุงูุฑุงุจุน - ุญุฑูู ูุน ุฎูุงูุง ุฎุถุฑุงุก ุนูู ุงูุฌุงูุจูู -->
                <div class="hex green"></div>
                <div class="hex cream letter">ุฒ</div>
                <div class="hex cream letter">ุณ</div>
                <div class="hex cream letter">ุด</div>
                <div class="hex cream letter">ุต</div>
                <div class="hex cream letter">ุถ</div>
                <div class="hex green"></div>

                <!-- ุงูุตู ุงูุฎุงูุณ - ุญุฑูู ูุน ุฎูุงูุง ุฎุถุฑุงุก ุนูู ุงูุฌุงูุจูู -->
                <div class="hex green"></div>
                <div class="hex cream letter">ุท</div>
                <div class="hex cream letter">ุธ</div>
                <div class="hex cream letter">ุน</div>
                <div class="hex cream letter">ุบ</div>
                <div class="hex cream letter">ู</div>
                <div class="hex green"></div>

                <!-- ุงูุตู ุงูุณุงุฏุณ - ุญุฑูู ูุน ุฎูุงูุง ุฎุถุฑุงุก ุนูู ุงูุฌุงูุจูู -->
                <div class="hex green"></div>
                <div class="hex cream letter">ู</div>
                <div class="hex cream letter">ู</div>
                <div class="hex cream letter">ู</div>
                <div class="hex cream letter">ู</div>
                <div class="hex cream letter">ู</div>
                <div class="hex green"></div>

                <!-- ุงูุตู ุงูุณุงุจุน - ุฃุญูุฑ -->
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
                <div class="hex pink"></div>
            </div>
        </div>

        <div class="game-stats">
            <div class="stat-box">
                <i class="fas fa-leaf"></i>
                <span id="greenCountLabel">ุงูุฎูุงูุง ุงูุฎุถุฑุงุก: <span id="greenCount">0</span></span>
            </div>
            <div class="stat-box">
                <i class="fas fa-fire"></i>
                <span id="redCountLabel">ุงูุฎูุงูุง ุงูุญูุฑุงุก: <span id="redCount">0</span></span>
            </div>
        </div>

        <!-- ูุฑุจุน ุญูุงุฑ ุงูุชุฃููุฏ -->
        <div id="confirmDialog" class="confirm-dialog">
            <div class="dialog-content">
                <h3 id="confirmTitle">ุชุฃููุฏ ุงูุนูููุฉ</h3>
                <p id="confirmMessage">ุณูุชู ุญุฐู ุฌููุน ุงูุชูุฏู ุงูุญุงูู ูุชุจุฏูู ุงูุญุฑูู. ูู ุฃูุช ูุชุฃูุฏุ</p>
                <div class="dialog-buttons">
                    <button id="confirmYes" class="dialog-btn yes-btn">ููุงูู</button>
                    <button id="confirmNo" class="dialog-btn no-btn">ุฅูุบุงุก</button>
                </div>
            </div>
        </div>

        <!-- ูุฑุจุน ุญูุงุฑ ุงููุณุงุนุฏุฉ -->
        <div id="helpDialog" class="help-dialog">
            <div class="help-content">
                <h3 id="helpTitle">ุชุนูููุงุช ุงููุนุจุฉ</h3>
                <div id="helpContent">
                    <h4>ุชุนูููุงุช ุงููุนุจุฉ</h4>
                    <p><strong>ููููุฉ ุงููุนุจ:</strong></p>
                    <p><strong>ุงูุญุฑู ุงูุฃูู:</strong> ูููู ูุฏูุฑ ุงููุณุงุจูุฉ ุจุงุฎุชูุงุฑ ุญุฑู ุฃูู ุนุดูุงุฆูุ ุซู ูุทุฑุญ ุณุคุงููุง ูุฌุจ ุฃู ุชุจุฏุฃ ุฅุฌุงุจุชู ุจุฐูู ุงูุญุฑู.</p>
                    
                    <p><strong>ูุฏู ูู ูุฑูู:</strong></p>
                    <ul>
                        <li>๐ฅ ุงููุฑูู ุงูุฃุญูุฑ ูุณุนู ูุชูููู ุฎุท ุนููุฏู ุจุงูููู ุงูุฃุญูุฑ ูููุฒ ุจุงูุฌููุฉ ุนูุฏ ุงููุงู ุงูุฎุท.</li>
                        <li>๐ฉ ุงููุฑูู ุงูุฃุฎุถุฑ ูุณุนู ูุชูููู ุฎุท ุฃููู ุจุงูููู ุงูุฃุฎุถุฑ ูููุฒ ุจุงูุฌููุฉ ุนูุฏ ุงููุงู ุงูุฎุท.</li>
                    </ul>
                    
                    <p><strong>ุชุญุฏูุฏ ุงููุงุฆุฒ ุจุงูุณุคุงู:</strong></p>
                    <ul>
                        <li>ุงููุฑูู ุงูุฐู ูุถุบุท ุงูุฌุฑุณ ุฃููููุง โณ ูุฏูู 3 ุซูุงูู ููุฅุฌุงุจุฉ.</li>
                        <li>โ ุฅุฌุงุจุฉ ุตุญูุญุฉ โ ุชุชููู ุงูุฎููุฉ ุจููู ุงููุฑูู.</li>
                        <li>โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ โ ููุชูู ุงูุณุคุงู ูููุฑูู ุงูุขุฎุฑ ููุฏุฉ 10 ุซูุงูู โณุ ุซู ูุตุจุญ ูุชุงุญูุง ููุฌููุนุ ูุนูู ูู ูุฑูุฏ ุงูุฅุฌุงุจุฉ ุงูุถุบุท ุนูู ุงูุฌุฑุณ ุฃูููุง.</li>
                        <li>ุงููุฑูู ุงููุงุฆุฒ ุจุงูุญุฑู ูุฎุชุงุฑ ุงูุญุฑู ุงูุชุงูู.</li>
                    </ul>
                    
                    <p><strong>ุชุญุฏูุฏ ุงููุงุฆุฒ ุจุงููุณุงุจูุฉ:</strong></p>
                    <ul>
                        <li>ูุชู ูุนุจ 3 ุฌููุงุชุ ูุงููุฑูู ุงูุฐู ูููุฒ ุจุฌููุชูู ูู ุงููุงุฆุฒ ุจุงููุณุงุจูุฉ! ๐</li>
                    </ul>
                    
                    <h4>ููุฒุงุช ุฅุถุงููุฉ</h4>
                    <ul>
                        <li><strong>ูุณุญ ุงููู:</strong> ูุนูุฏ ุชุนููู ุฌููุน ุงูุฎูุงูุง ุฅูู ุญุงูุชูุง ุงูุฃุตููุฉ.</li>
                        <li><strong>ุญุฑู ุนุดูุงุฆู:</strong> ูุจุฑุฒ ุญุฑููุง ุนุดูุงุฆููุง ูู ุงูููุญุฉ ููุฏุฉ 3 ุซูุงูู.</li>
                        <li><strong>ุชุจุฏูู ุงูุญุฑูู:</strong> ูุฎูุท ููุงุถุน ุงูุญุฑูู ูู ุงูููุญุฉ.</li>
                        <li><strong>ุงููุถุน ุงููููู:</strong> ูุจุฏู ุจูู ุงููุงุฌูุฉ ุงููุงุชุญุฉ ูุงูุฏุงููุฉ ูุฑุงุญุฉ ุงูุนูููู.</li>
                        <li><strong>ุชุบููุฑ ุงููุบุฉ:</strong> ูุจุฏู ุจูู ุงูุญุฑูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ.</li>
                        <li><strong>ุชูุจูุฑ/ุชุตุบูุฑ:</strong> ูุชุญูู ูู ุญุฌู ุฎููุฉ ุงูุญุฑูู.</li>
                    </ul>
                    
                    <h4>ุญูู ุงููุนุจุฉ</h4>
                    <p>ุชู ุชุตููู ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู ูุชููู ุชุฌุฑุจุฉ ุชูุงุนููุฉ ููุชุนุฉ ููุตุบุงุฑ ูุงููุจุงุฑ. ุชุณุงุนุฏ ุงููุนุจุฉ ุนูู ุชุนุฒูุฒ ุงูุซูุงูุฉ ุงูุนุงูุฉ ูุฑูุญ ุงููุฑูู ุจุทุฑููุฉ ุชูุงูุณูุฉ ููุชุนุฉ.</p>
                </div>
                <button id="closeHelpBtn" class="close-help-btn">ุฅุบูุงู</button>
            </div>
        </div>

        <footer class="footer">
          ยฉ ุฌููุน ุงูุญููู ูุญููุธุฉ - ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู ุจูุงุณุทุฉ ุนุจุฏุงููุทูู ุฎุงูุฏ 2025 
        </footer>
    </div>

    <script>
    // ุชุนุฑูู ุงููุชุบูุฑุงุช ุงูุนุงูุฉ
    var currentColor = null;
    var greenCellsCount = 0;
    var redCellsCount = 0;
    var highlightedCell = null;
    var highlightTimeout = null;
    var currentZoom = 1;

    // ูุงุฆูุฉ ุงูุฑุณุงุฆู ุงููุณุชุฎุฏูุฉ ูู ุงููุนุจุฉ ุจุงููุบุชูู
    var statusMessages = {
        'select-color': {
            'ar': 'ุงุฎุชุฑ ูููุงู ุซู ุงููุฑ ุนูู ุงูุฎูุงูุง ูุชุบููุฑ ููููุง',
            'en': 'Select a color then click on cells to change their color'
        },
        'green-selected': {
            'ar': 'ุงุฎุชุฑ ุงูุฎูุงูุง ูุชูููููุง ุจุงูุฃุฎุถุฑ',
            'en': 'Select cells to color them green'
        },
        'red-selected': {
            'ar': 'ุงุฎุชุฑ ุงูุฎูุงูุง ูุชูููููุง ุจุงูุฃุญูุฑ',
            'en': 'Select cells to color them red'
        },
        'cream-selected': {
            'ar': 'ุงุฎุชุฑ ุงูุฎูุงูุง ูุฅุนุงุฏุชูุง ูููู ุงูุฃุตูู',
            'en': 'Select cells to reset them to original color'
        },
        'no-color-selected': {
            'ar': 'ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ููู ุฃููุงู',
            'en': 'Please select a color first'
        },
        'fixed-cell': {
            'ar': 'ูุง ูููู ุชุบููุฑ ููู ุงูุฎูุงูุง ุงูุซุงุจุชุฉ',
            'en': 'Fixed cells cannot be changed'
        },
        'random-letter': {
            'ar': 'ุชู ุงุฎุชูุงุฑ ุญุฑู ุนุดูุงุฆู! ุณูุฎุชูู ุจุนุฏ 3 ุซูุงู',
            'en': 'Random letter selected! Will disappear in 3 seconds'
        },
        'reset-done': {
            'ar': 'ุชู ูุณุญ ุฌููุน ุงูุฃููุงู!',
            'en': 'All colors have been reset!'
        },
        'shuffle-done': {
            'ar': 'ุชู ุชุจุฏูู ุงูุญุฑูู ุจูุฌุงุญ!',
            'en': 'Letters have been shuffled successfully!'
        }
    };

    // ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
    var arabicLetters = ['ุฃ', 'ุจ', 'ุช', 'ุซ', 'ุฌ', 'ุญ', 'ุฎ', 'ุฏ', 'ุฐ', 'ุฑ', 'ุฒ', 'ุณ', 'ุด', 'ุต', 'ุถ', 'ุท', 'ุธ', 'ุน', 'ุบ', 'ู', 'ู', 'ู', 'ู', 'ู', 'ู'];
    var englishLetters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y'];

    // ุชููุฆุฉ ุงูุตูุญุฉ ุจุนุฏ ุงูุชุญููู
    window.onload = function() {
        // ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ููุฃุฒุฑุงุฑ ูุงูุฎูุงูุง
        setupEventHandlers();
        
        // ุชุญููู ุงูุชูุฏู ุงููุญููุธ
        loadSavedProgress();
    };

    // ุฅุนุฏุงุฏ ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ
    function setupEventHandlers() {
        // ุฃุฒุฑุงุฑ ุงูุฃููุงู
        document.getElementById('greenBtn').onclick = function() { setColor('green'); };
        document.getElementById('redBtn').onclick = function() { setColor('red'); };
        document.getElementById('creamBtn').onclick = function() { setColor('cream'); };
        document.getElementById('resetBtn').onclick = confirmReset;
        document.getElementById('randomBtn').onclick = highlightRandomLetter;
        document.getElementById('shuffleBtn').onclick = confirmShuffle;
        document.getElementById('themeToggle').onclick = toggleDarkMode;
        document.getElementById('helpBtn').onclick = showHelp;
        document.getElementById('closeHelpBtn').onclick = hideHelp;
        document.getElementById('langToggle').onclick = toggleLanguage;
        document.getElementById('zoomInBtn').onclick = zoomIn;
        document.getElementById('zoomOutBtn').onclick = zoomOut;
        
        // ุฃุฒุฑุงุฑ ุงูุชุฃููุฏ
        document.getElementById('confirmYes').onclick = handleConfirmYes;
        document.getElementById('confirmNo').onclick = hideConfirmDialog;
        
        // ุฅุถุงูุฉ ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ููุฎูุงูุง
        var cells = document.querySelectorAll('.hex');
        cells.forEach(function(cell) {
            cell.onclick = function() {
                handleCellClick(cell);
            };
        });
    }

    // ุชุนููู ุงูููู ุงูุญุงูู
    function setColor(color) {
        currentColor = color;
        
        // ุฅุฒุงูุฉ ุงูุชุฃุซูุฑ ุงูุจุตุฑู ูู ุฌููุน ุงูุฃุฒุฑุงุฑ
        document.getElementById('greenBtn').style.transform = '';
        document.getElementById('redBtn').style.transform = '';
        document.getElementById('creamBtn').style.transform = '';
        document.getElementById('greenBtn').style.boxShadow = '';
        document.getElementById('redBtn').style.boxShadow = '';
        document.getElementById('creamBtn').style.boxShadow = '';
        
        // ุฅุถุงูุฉ ุชุฃุซูุฑ ุจุตุฑู ููุฒุฑ ุงููุญุฏุฏ
        if (color === 'green') {
            document.getElementById('greenBtn').style.transform = 'translateY(-3px)';
            document.getElementById('greenBtn').style.boxShadow = '0 0 0 3px var(--primary-dark)';
            updateStatus('green-selected');
        } else if (color === 'red') {
            document.getElementById('redBtn').style.transform = 'translateY(-3px)';
            document.getElementById('redBtn').style.boxShadow = '0 0 0 3px var(--secondary-dark)';
            updateStatus('red-selected');
        } else if (color === 'cream') {
            document.getElementById('creamBtn').style.transform = 'translateY(-3px)';
            document.getElementById('creamBtn').style.boxShadow = '0 0 0 3px #e0e0e0';
            updateStatus('cream-selected');
        }
    }

    // ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุงูุฎููุฉ
    function handleCellClick(cell) {
        if (!currentColor) {
            updateStatus('no-color-selected');
            return;
        }
        
        // ุงูุชุญูู ูู ุงูุฎูุงูุง ุงูุซุงุจุชุฉ
        if ((cell.classList.contains('pink') || cell.classList.contains('green')) && 
            !cell.classList.contains('selected-green') && !cell.classList.contains('selected-red')) {
            updateStatus('fixed-cell');
            return;
        }
        
        // ุญุณุงุจ ุงูุชุบููุฑ ูู ุงูุนุฏุงุฏุงุช
        var oldGreen = cell.classList.contains('selected-green') ? 1 : 0;
        var oldRed = cell.classList.contains('selected-red') ? 1 : 0;
        var newGreen = currentColor === 'green' ? 1 : 0;
        var newRed = currentColor === 'red' ? 1 : 0;
        
        // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุชุบููุฑ
        cell.classList.add('color-changing');
        
        // ุชุฃุฎูุฑ ูุฅุธูุงุฑ ุงูุชุฃุซูุฑ
        setTimeout(function() {
            // ุฅุฒุงูุฉ ุงูุฃููุงู ุงูุณุงุจูุฉ
            cell.classList.remove('selected-green', 'selected-red');
            
            // ุฅุถุงูุฉ ุงูููู ุงูุฌุฏูุฏ
            if (currentColor === 'green') {
                cell.classList.add('selected-green');
            } else if (currentColor === 'red') {
                cell.classList.add('selected-red');
            }
            
            // ุฅุฒุงูุฉ ุชุฃุซูุฑ ุงูุชุบููุฑ
            cell.classList.remove('color-changing');
            
            // ุชุญุฏูุซ ุงูุนุฏุงุฏุงุช
            greenCellsCount = greenCellsCount - oldGreen + newGreen;
            redCellsCount = redCellsCount - oldRed + newRed;
            
            updateCounters();
            
            // ุญูุธ ุงูุชูุฏู
            saveProgress();
        }, 150);
    }

    // ุชุญุฏูุซ ุฑุณุงูุฉ ุงูุญุงูุฉ
    function updateStatus(message) {
        var statusText = document.getElementById('statusText');
        if (statusText) {
            // ุฅุฐุง ูุงูุช ุงูุฑุณุงูุฉ ูู ุงุณู ููุชุงุญ ูู ูุงุฆูุฉ ุงูุฑุณุงุฆู
            if (typeof message === 'string' && statusMessages[message]) {
                var currentLang = document.documentElement.getAttribute('lang') || 'ar';
                statusText.innerText = statusMessages[message][currentLang];
            } else {
                // ุฅุฐุง ูุงูุช ุฑุณุงูุฉ ูุตูุฉ ูุจุงุดุฑุฉ
                statusText.innerText = message;
            }
            
            // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุชุญุฏูุซ
            statusText.classList.add('status-text-update');
            
            // ุฅุฒุงูุฉ ุงูุชุฃุซูุฑ ุจุนุฏ ุงูุชูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ
            setTimeout(function() {
                statusText.classList.remove('status-text-update');
            }, 500);
        }
    }

    // ุชุญุฏูุซ ุงูุนุฏุงุฏุงุช
    function updateCounters() {
        document.getElementById('greenCount').innerText = greenCellsCount;
        document.getElementById('redCount').innerText = redCellsCount;
    }

    // ุชุธููู ุญุฑู ุนุดูุงุฆู
    function highlightRandomLetter() {
        // ุฅูุบุงุก ุงูุชุธููู ุงูุณุงุจู
        if (highlightedCell) {
            highlightedCell.classList.remove('highlight', 'purple');
        }
        
        // ุฅูุบุงุก ุงููุคูุช ุงูุณุงุจู
        if (highlightTimeout) {
            clearTimeout(highlightTimeout);
        }
        
        // ุงุฎุชูุงุฑ ุญุฑู ุนุดูุงุฆู
        var letterCells = document.querySelectorAll('.hex.letter');
        if (letterCells.length > 0) {
            var randomIndex = Math.floor(Math.random() * letterCells.length);
            highlightedCell = letterCells[randomIndex];
            
            // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุชุธููู
            highlightedCell.classList.add('highlight', 'purple');
            
            // ุชุญุฏูุซ ุงูุฑุณุงูุฉ
            updateStatus('random-letter');
            
            // ุฅุฒุงูุฉ ุงูุชุธููู ุจุนุฏ 3 ุซูุงู
            highlightTimeout = setTimeout(function() {
                highlightedCell.classList.remove('highlight', 'purple');
                highlightedCell = null;
                updateStatus('select-color');
            }, 3000);
        }
    }

    // ุชุจุฏูู ุงููุถุน ุงููููู
    function toggleDarkMode() {
        var body = document.body;
        var isDarkMode = body.classList.contains('dark-mode');
        
        if (isDarkMode) {
            body.classList.remove('dark-mode');
        } else {
            body.classList.add('dark-mode');
        }
        
        // ุชุญุฏูุซ ูุต ุงูุฒุฑ ุญุณุจ ุงููุบุฉ ุงูุญุงููุฉ
        updateThemeButtonText();
        
        // ุญูุธ ุงูุฅุนุฏุงุฏ
        localStorage.setItem('darkMode', !isDarkMode ? 'enabled' : null);
    }

    // ุชุญุฏูุซ ูุต ุฒุฑ ุงููุถุน ุงููููู
    function updateThemeButtonText() {
        var isArabic = document.documentElement.getAttribute('lang') === 'ar';
        var isDarkMode = document.body.classList.contains('dark-mode');
        var themeButton = document.getElementById('themeToggle');
        
        if (themeButton) {
            var iconClass = isDarkMode ? 'fa-sun' : 'fa-moon';
            var buttonText = isDarkMode ? 
                        (isArabic ? 'ุงููุถุน ุงูุนุงุฏู' : 'Light Mode') : 
                        (isArabic ? 'ุงููุถุน ุงููููู' : 'Dark Mode');
            
            themeButton.innerHTML = '<i class="fas ' + iconClass + '"></i> <span class="btn-text">' + buttonText + '</span>';
        }
    }

    // ุทูุจ ุชุฃููุฏ ุฅุนุงุฏุฉ ุงูุชุนููู
    function confirmReset() {
        var confirmDialog = document.getElementById('confirmDialog');
        var confirmTitle = document.getElementById('confirmTitle');
        var confirmMessage = document.getElementById('confirmMessage');
        
        var isArabic = document.documentElement.getAttribute('lang') === 'ar';
        
        confirmTitle.innerText = isArabic ? 'ุชุฃููุฏ ุนูููุฉ ุงููุณุญ' : 'Confirm Reset';
        confirmMessage.innerText = isArabic ? 'ุณูุชู ูุณุญ ุฌููุน ุงูุชูุฏู ุงูุญุงูู. ูู ุฃูุช ูุชุฃูุฏุ' : 'All current progress will be erased. Are you sure?';
        confirmDialog.setAttribute('data-action', 'reset');
        confirmDialog.style.display = 'flex';
    }

    // ุทูุจ ุชุฃููุฏ ุชุจุฏูู ุงูุญุฑูู
    function confirmShuffle() {
        var confirmDialog = document.getElementById('confirmDialog');
        var confirmTitle = document.getElementById('confirmTitle');
        var confirmMessage = document.getElementById('confirmMessage');
        
        var isArabic = document.documentElement.getAttribute('lang') === 'ar';
        
        confirmTitle.innerText = isArabic ? 'ุชุฃููุฏ ุงูุนูููุฉ' : 'Confirm Action';
        confirmMessage.innerText = isArabic ? 'ุณูุชู ุญุฐู ุฌููุน ุงูุชูุฏู ุงูุญุงูู ูุชุจุฏูู ุงูุญุฑูู. ูู ุฃูุช ูุชุฃูุฏุ' : 'All current progress will be erased and letters will be shuffled. Are you sure?';
        confirmDialog.setAttribute('data-action', 'shuffle');
        confirmDialog.style.display = 'flex';
    }

    // ุฅุฎูุงุก ูุฑุจุน ุญูุงุฑ ุงูุชุฃููุฏ
    function hideConfirmDialog() {
        document.getElementById('confirmDialog').style.display = 'none';
    }

    // ูุนุงูุฌุฉ ุชุฃููุฏ ุงูุนูููุฉ
    function handleConfirmYes() {
        var confirmDialog = document.getElementById('confirmDialog');
        var action = confirmDialog.getAttribute('data-action');
        
        hideConfirmDialog();
        
        if (action === 'reset') {
            resetAllCells();
        } else if (action === 'shuffle') {
            shuffleLetters();
            resetAllCells();
        }
    }

    // ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุฎูุงูุง
    function resetAllCells() {
        var cells = document.querySelectorAll('.hex');
        
        cells.forEach(function(cell) {
            cell.classList.remove('selected-green', 'selected-red', 'highlight', 'purple', 'color-changing');
        });
        
        // ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏุงุช
        greenCellsCount = 0;
        redCellsCount = 0;
        
        updateCounters();
        updateStatus('reset-done');
        
        // ุญูุธ ุงูุชูุฏู
        saveProgress();
    }

    // ุชุจุฏูู ุงูุญุฑูู
    function shuffleLetters() {
        // ุชุญุฏูุฏ ูุฌููุนุฉ ุงูุญุฑูู ุจูุงุกู ุนูู ูุบุฉ ุงูุตูุญุฉ
        var isArabic = document.documentElement.getAttribute('lang') === 'ar';
        var letters = isArabic ? arabicLetters.slice() : englishLetters.slice();
        
        // ุฎูุท ุงูุญุฑูู
        for (var i = letters.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = letters[i];
            letters[i] = letters[j];
            letters[j] = temp;
        }
        
        // ุชุทุจูู ุงูุญุฑูู ุงููุฎููุทุฉ
        var letterCells = document.querySelectorAll('.hex.letter');
        letterCells.forEach(function(cell, index) {
            if (index < letters.length) {
                // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุญุฑูุฉ
                cell.classList.add('shuffling');
                
                // ุชุฃุฎูุฑ ุชุบููุฑ ุงููุต
                setTimeout(function() {
                    cell.innerText = letters[index];
                    
                    // ุฅุฒุงูุฉ ุชุฃุซูุฑ ุงูุญุฑูุฉ
                    setTimeout(function() {
                        cell.classList.remove('shuffling');
                    }, 500);
                }, 100);
            }
        });
        
        updateStatus('shuffle-done');
    }

    // ุชุจุฏูู ุงููุบุฉ
    function toggleLanguage() {
        var html = document.documentElement;
        var isArabic = html.getAttribute('lang') === 'ar';
        
        if (isArabic) {
            // ุงูุชุบููุฑ ูู ุงูุนุฑุจูุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ
            html.setAttribute('lang','en');
            html.setAttribute('dir', 'ltr');
            
            // ุชุญุฏูุซ ุงูุนูุงุตุฑ ุงููุตูุฉ
            updateUILanguage('en');
            
            // ุชุบููุฑ ุงูุญุฑูู ุฅูู ุงูุฅูุฌููุฒูุฉ
            changeLettersTo('en');
        } else {
            // ุงูุชุบููุฑ ูู ุงูุฅูุฌููุฒูุฉ ุฅูู ุงูุนุฑุจูุฉ
            html.setAttribute('lang', 'ar');
            html.setAttribute('dir', 'rtl');
            
            // ุชุญุฏูุซ ุงูุนูุงุตุฑ ุงููุตูุฉ
            updateUILanguage('ar');
            
            // ุชุบููุฑ ุงูุญุฑูู ุฅูู ุงูุนุฑุจูุฉ
            changeLettersTo('ar');
        }
        
        // ุญูุธ ุงูุฅุนุฏุงุฏ
        saveProgress();
    }

    // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูููุงู ููุบุฉ ุงููุญุฏุฏุฉ
    function updateUILanguage(lang) {
        var isArabic = lang === 'ar';
        
        // ุชุญุฏูุซ ูุต ุฒุฑ ุงููุบุฉ
        document.getElementById('langToggle').innerHTML = '<i class="fas fa-language"></i> <span class="btn-text">' + (isArabic ? 'English' : 'ุงูุนุฑุจูุฉ') + '</span>';
        
        // ุชุญุฏูุซ ุฒุฑ ุงููุถุน ุงููููู/ุงูุนุงุฏู
        updateThemeButtonText();
        
        // ุชุญุฏูุซ ุงูุนููุงู
        document.querySelector('.game-title').innerHTML = isArabic ? 
            '<i class="fas fa-chess-board"></i> <span>ูุนุจุฉ</span> ุฎููุฉ ุงูุญุฑูู' : 
            '<i class="fas fa-chess-board"></i> <span>Letter</span> Honeycomb';
        
        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุฃููุงู
        var uiElements = {
            'greenBtn': isArabic ? '<i class="fas fa-paint-brush"></i> ุงูุฃุฎุถุฑ' : '<i class="fas fa-paint-brush"></i> Green',
            'redBtn': isArabic ? '<i class="fas fa-paint-brush"></i> ุงูุฃุญูุฑ' : '<i class="fas fa-paint-brush"></i> Red',
            'creamBtn': isArabic ? '<i class="fas fa-paint-brush"></i> ุงูุฃุตูู' : '<i class="fas fa-paint-brush"></i> Original',
            'resetBtn': isArabic ? '<i class="fas fa-eraser"></i> ูุณุญ ุงููู' : '<i class="fas fa-eraser"></i> Reset All',
            'randomBtn': isArabic ? '<i class="fas fa-random"></i> ุญุฑู ุนุดูุงุฆู' : '<i class="fas fa-random"></i> Random Letter',
            'shuffleBtn': isArabic ? '<i class="fas fa-sync-alt"></i> ุชุจุฏูู ุงูุญุฑูู' : '<i class="fas fa-sync-alt"></i> Shuffle Letters',
            'helpTitle': isArabic ? 'ุชุนูููุงุช ุงููุนุจุฉ' : 'Game Instructions',
            'closeHelpBtn': isArabic ? 'ุฅุบูุงู' : 'Close',
            'confirmTitle': isArabic ? 'ุชุฃููุฏ ุงูุนูููุฉ' : 'Confirm Action',
            'confirmMessage': isArabic ? 'ุณูุชู ุญุฐู ุฌููุน ุงูุชูุฏู ุงูุญุงูู. ูู ุฃูุช ูุชุฃูุฏุ' : 'All current progress will be erased. Are you sure?',
            'confirmYes': isArabic ? 'ููุงูู' : 'Yes',
            'confirmNo': isArabic ? 'ุฅูุบุงุก' : 'Cancel'
        };
        
        // ุชุทุจูู ุงููุตูุต
        for (var id in uiElements) {
            var element = document.getElementById(id);
            if (element) {
                element.innerHTML = uiElements[id];
            }
        }
        
        // ุชุญุฏูุซ ุชุณููุงุช ุงูุนุฏุงุฏุงุช
        document.querySelector('.stat-box:first-child span').innerHTML = isArabic ? 
            'ุงูุฎูุงูุง ุงูุฎุถุฑุงุก: <span id="greenCount">' + greenCellsCount + '</span>' : 
            'Green Cells: <span id="greenCount">' + greenCellsCount + '</span>';
            
        document.querySelector('.stat-box:last-child span').innerHTML = isArabic ? 
            'ุงูุฎูุงูุง ุงูุญูุฑุงุก: <span id="redCount">' + redCellsCount + '</span>' : 
            'Red Cells: <span id="redCount">' + redCellsCount + '</span>';
        
        // ุชุญุฏูุซ ูุต ุงูุชุฐููู
        document.querySelector('.footer').innerHTML = isArabic ? 
            'ยฉ ุฌููุน ุงูุญููู ูุญููุธุฉ - ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู ุจูุงุณุทุฉ ุนุจุฏุงููุทูู ุฎุงูุฏ 2025' : 
            'ยฉ All Rights Reserved - Letter Honeycomb Game by AbdulLatif Khaled 2025';
        
        // ุชุญุฏูุซ ูุญุชูู ุงููุณุงุนุฏุฉ
        updateHelpContent(lang);
        
        // ุชุญุฏูุซ ุฑุณุงูุฉ ุงูุญุงูุฉ
        updateStatus('select-color');
    }

    // ุชุญุฏูุซ ูุญุชูู ุงููุณุงุนุฏุฉ
    function updateHelpContent(lang) {
        var helpContent = document.getElementById('helpContent');
        if (!helpContent) return;
        
        if (lang === 'ar') {
            helpContent.innerHTML = `
<h4>ุชุนูููุงุช ุงููุนุจุฉ</h4>
<p><strong>ููููุฉ ุงููุนุจ:</strong></p>
<p><strong>ุงูุญุฑู ุงูุฃูู:</strong> ูููู ูุฏูุฑ ุงููุณุงุจูุฉ ุจุงุฎุชูุงุฑ ุญุฑู ุฃูู ุนุดูุงุฆูุ ุซู ูุทุฑุญ ุณุคุงููุง ูุฌุจ ุฃู ุชุจุฏุฃ ุฅุฌุงุจุชู ุจุฐูู ุงูุญุฑู.</p>

<p><strong>ูุฏู ูู ูุฑูู:</strong></p>
<ul>
    <li>๐ฅ ุงููุฑูู ุงูุฃุญูุฑ ูุณุนู ูุชูููู ุฎุท ุนููุฏู ุจุงูููู ุงูุฃุญูุฑ ูููุฒ ุจุงูุฌููุฉ ุนูุฏ ุงููุงู ุงูุฎุท.</li>
    <li>๐ฉ ุงููุฑูู ุงูุฃุฎุถุฑ ูุณุนู ูุชูููู ุฎุท ุฃููู ุจุงูููู ุงูุฃุฎุถุฑ ูููุฒ ุจุงูุฌููุฉ ุนูุฏ ุงููุงู ุงูุฎุท.</li>
</ul>

<p><strong>ุชุญุฏูุฏ ุงููุงุฆุฒ ุจุงูุณุคุงู:</strong></p>
<ul>
    <li>ุงููุฑูู ุงูุฐู ูุถุบุท ุงูุฌุฑุณ ุฃููููุง โณ ูุฏูู 3 ุซูุงูู ููุฅุฌุงุจุฉ.</li>
    <li>โ ุฅุฌุงุจุฉ ุตุญูุญุฉ โ ุชุชููู ุงูุฎููุฉ ุจููู ุงููุฑูู.</li>
    <li>โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ โ ููุชูู ุงูุณุคุงู ูููุฑูู ุงูุขุฎุฑ ููุฏุฉ 10 ุซูุงูู โณุ ุซู ูุตุจุญ ูุชุงุญูุง ููุฌููุนุ ูุนูู ูู ูุฑูุฏ ุงูุฅุฌุงุจุฉ ุงูุถุบุท ุนูู ุงูุฌุฑุณ ุฃูููุง.</li>
    <li>ุงููุฑูู ุงููุงุฆุฒ ุจุงูุญุฑู ูุฎุชุงุฑ ุงูุญุฑู ุงูุชุงูู.</li>
</ul>

<p><strong>ุชุญุฏูุฏ ุงููุงุฆุฒ ุจุงููุณุงุจูุฉ:</strong></p>
<ul>
    <li>ูุชู ูุนุจ 3 ุฌููุงุชุ ูุงููุฑูู ุงูุฐู ูููุฒ ุจุฌููุชูู ูู ุงููุงุฆุฒ ุจุงููุณุงุจูุฉ! ๐</li>
</ul>

<h4>ููุฒุงุช ุฅุถุงููุฉ</h4>
<ul>
    <li><strong>ูุณุญ ุงููู:</strong> ูุนูุฏ ุชุนููู ุฌููุน ุงูุฎูุงูุง ุฅูู ุญุงูุชูุง ุงูุฃุตููุฉ.</li>
    <li><strong>ุญุฑู ุนุดูุงุฆู:</strong> ูุจุฑุฒ ุญุฑููุง ุนุดูุงุฆููุง ูู ุงูููุญุฉ ููุฏุฉ 3 ุซูุงูู.</li>
    <li><strong>ุชุจุฏูู ุงูุญุฑูู:</strong> ูุฎูุท ููุงุถุน ุงูุญุฑูู ูู ุงูููุญุฉ.</li>
    <li><strong>ุงููุถุน ุงููููู:</strong> ูุจุฏู ุจูู ุงููุงุฌูุฉ ุงููุงุชุญุฉ ูุงูุฏุงููุฉ ูุฑุงุญุฉ ุงูุนูููู.</li>
    <li><strong>ุชุบููุฑ ุงููุบุฉ:</strong> ูุจุฏู ุจูู ุงูุญุฑูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ.</li>
    <li><strong>ุชูุจูุฑ/ุชุตุบูุฑ:</strong> ูุชุญูู ูู ุญุฌู ุฎููุฉ ุงูุญุฑูู.</li>
</ul>

<h4>ุญูู ุงููุนุจุฉ</h4>
<p>ุชู ุชุตููู ูุนุจุฉ ุฎููุฉ ุงูุญุฑูู ูุชููู ุชุฌุฑุจุฉ ุชูุงุนููุฉ ููุชุนุฉ ููุตุบุงุฑ ูุงููุจุงุฑ. ุชุณุงุนุฏ ุงููุนุจุฉ ุนูู ุชุนุฒูุฒ ุงูุซูุงูุฉ ุงูุนุงูุฉ ูุฑูุญ ุงููุฑูู ุจุทุฑููุฉ ุชูุงูุณูุฉ ููุชุนุฉ.</p>
            `;
        } else {
            helpContent.innerHTML = `
<h4>Game Instructions</h4>
<p><strong>How to Play:</strong></p>
<p><strong>First Letter:</strong> The competition manager randomly selects a starting letter, then asks a question that must be answered starting with that letter.</p>

<p><strong>Objective of Each Team:</strong></p>
<ul>
    <li>๐ฅ The Red team aims to form a vertical line in red color and wins the round upon completing the line.</li>
    <li>๐ฉ The Green team aims to form a horizontal line in green color and wins the round upon completing the line.</li>
</ul>

<p><strong>Determining the Question Winner:</strong></p>
<ul>
    <li>The team that rings the bell first โณ has 3 seconds to answer.</li>
    <li>โ Correct Answer โ The cell is colored with the team's color.</li>
    <li>โ Wrong Answer โ The question is passed to the other team for 10 seconds โณ, then becomes available to everyone. Whoever wants to answer must ring the bell first.</li>
    <li>The team that wins the letter chooses the next letter.</li>
</ul>

<p><strong>Determining the Competition Winner:</strong></p>
<ul>
    <li>3 rounds are played, and the team that wins two rounds is the winner of the competition! ๐</li>
</ul>

<h4>Additional Features</h4>
<ul>
    <li><strong>Reset All:</strong> Resets all cells to their original state.</li>
    <li><strong>Random Letter:</strong> Highlights a random letter on the board for 3 seconds.</li>
    <li><strong>Shuffle Letters:</strong> Mixes the positions of the letters on the board.</li>
    <li><strong>Dark Mode:</strong> Toggles between light and dark interface for eye comfort.</li>
    <li><strong>Change Language:</strong> Switches between Arabic and English letters.</li>
    <li><strong>Zoom In/Out:</strong> Controls the size of the letter cells.</li>
</ul>

<h4>About the Game</h4>
<p>Letter Honeycomb Game is designed to be an interactive and fun experience for young and old. The game helps enhance general knowledge and team spirit in an enjoyable competitive way.</p>
            `;
        }
    }

    // ุชุบููุฑ ุงูุญุฑูู ุญุณุจ ุงููุบุฉ
    function changeLettersTo(lang) {
        var letters = lang === 'ar' ? arabicLetters : englishLetters;
        var letterCells = document.querySelectorAll('.hex.letter');
        
        letterCells.forEach(function(cell, index) {
            if (index < letters.length) {
                cell.textContent = letters[index];
            }
        });
    }

    // ูุธุงุฆู ุงูุชูุจูุฑ ูุงูุชุตุบูุฑ
    function zoomIn() {
        if (currentZoom < 1.5) {
            currentZoom += 0.1;
            applyZoom();
        }
    }

    function zoomOut() {
        if (currentZoom > 0.5) {
            currentZoom -= 0.1;
            applyZoom();
        }
    }

    function applyZoom() {
        var honeycomb = document.querySelector('.honeycomb');
        var container = document.querySelector('.honeycomb-container');
        
        if (honeycomb && container) {
            honeycomb.style.transform = `scale(${currentZoom})`;
            
            // ุชุนุฏูู ุงุฑุชูุงุน ุงูุญุงููุฉ
            var baseHeight = 540;
            container.style.height = `${baseHeight * currentZoom}px`;
        }
        
        // ุญูุธ ุงูุฅุนุฏุงุฏ
        saveProgress();
    }

    // ุฅุธูุงุฑ ูุฑุจุน ุญูุงุฑ ุงููุณุงุนุฏุฉ
    function showHelp() {
        document.getElementById('helpDialog').style.display = 'flex';
    }

    // ุฅุฎูุงุก ูุฑุจุน ุญูุงุฑ ุงููุณุงุนุฏุฉ
    function hideHelp() {
        document.getElementById('helpDialog').style.display = 'none';
    }

    // ุญูุธ ุงูุชูุฏู
    function saveProgress() {
        var gameState = {
            greenCells: [],
            redCells: [],
            darkMode: document.body.classList.contains('dark-mode'),
            language: document.documentElement.getAttribute('lang'),
            currentZoom: currentZoom
        };
        
        // ุญูุธ ุญุงูุฉ ุงูุฎูุงูุง
        var cells = document.querySelectorAll('.hex');
        cells.forEach(function(cell, index) {
            if (cell.classList.contains('selected-green')) {
                gameState.greenCells.push(index);
            } else if (cell.classList.contains('selected-red')) {
                gameState.redCells.push(index);
            }
        });
        
        // ุญูุธ ูู localStorage
        try {
            localStorage.setItem('honeycombGameState', JSON.stringify(gameState));
        } catch (error) {
            console.error('ุฎุทุฃ ูู ุญูุธ ุงูุชูุฏู:', error);
        }
    }

    // ุชุญููู ุงูุชูุฏู ุงููุญููุธ
    function loadSavedProgress() {
        try {
            var savedState = localStorage.getItem('honeycombGameState');
            if (!savedState) return;
            
            var gameState = JSON.parse(savedState);
            var cells = document.querySelectorAll('.hex');
            
            // ุงุณุชุนุงุฏุฉ ุญุงูุฉ ุงูุฎูุงูุง
            if (gameState.greenCells && Array.isArray(gameState.greenCells)) {
                gameState.greenCells.forEach(function(index) {
                    if (index < cells.length) {
                        cells[index].classList.add('selected-green');
                        greenCellsCount++;
                    }
                });
            }
            
            if (gameState.redCells && Array.isArray(gameState.redCells)) {
                gameState.redCells.forEach(function(index) {
                    if (index < cells.length) {
                        cells[index].classList.add('selected-red');
                        redCellsCount++;
                    }
                });
            }
            
            // ุงุณุชุนุงุฏุฉ ุญุงูุฉ ุงูุชูุจูุฑ/ุงูุชุตุบูุฑ
            if (gameState.currentZoom) {
                currentZoom = gameState.currentZoom;
                applyZoom();
            }
            
            // ุงุณุชุนุงุฏุฉ ุงููุถุน ุงููููู
            if (gameState.darkMode) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
            
            // ุงุณุชุนุงุฏุฉ ุงููุบุฉ
            if (gameState.language) {
                var currentLang = document.documentElement.getAttribute('lang');
                if (currentLang !== gameState.language) {
                    document.documentElement.setAttribute('lang', gameState.language);
                    document.documentElement.setAttribute('dir', gameState.language === 'ar' ? 'rtl' : 'ltr');
                    
                    // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ููููุง ููุบุฉ
                    updateUILanguage(gameState.language);
                    changeLettersTo(gameState.language);
                }
            }
            
            // ุชุญุฏูุซ ุงูุนุฏุงุฏุงุช
            updateCounters();
            
            // ุชุญุฏูุซ ูุต ุฒุฑ ุงููุถุน ุงููููู ุจุนุฏ ุชุญููู ุงูุฅุนุฏุงุฏุงุช
            updateThemeButtonText();
            
        } catch (error) {
            console.error('ุฎุทุฃ ูู ุชุญููู ุงูุชูุฏู ุงููุญููุธ:', error);
        }
    }
    </script>
</body>
</html>
